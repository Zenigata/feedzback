orbs: # declare what orbs we are going to use
  node: circleci/node@2.0.2 # the node orb provides common node-related configuration

version: 2.1 # using 2.1 provides access to orbs and other features
working_directory: ~/server
jobs:
    test:
      docker:
        - image: circleci/node:17.2.0
      steps:
        - run: echo "Running tests"
        - run: npm install
        - run: npm start
    build:
      docker:
        - image: circleci/node:12.16
      steps:   
        - run: echo "build project"
workflows:
  
  matrix-tests:
    jobs:
      - test
      - build:
         requires:
          - test

